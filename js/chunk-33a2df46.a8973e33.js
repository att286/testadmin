(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33a2df46"],{"203e":function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"account-settings-info-view"},[t("a-spin",{attrs:{spinning:e.spinning}},[t("a-row",{attrs:{gutter:16}},[t("a-col",{attrs:{md:24,lg:12}},[t("a-form",{attrs:{form:e.form,labelAlign:"left",labelCol:{span:6},wrapperCol:{span:18}},on:{submit:e.handleSubmit}},[t("a-form-item",{attrs:{label:"结算方式"}},[t("a-radio-group",{model:{value:e.infoType,callback:function(a){e.infoType=a},expression:"infoType"}},[t("a-radio",{key:"1",attrs:{value:"1"}},[e._v("个人结算信息")]),t("a-radio",{key:"2",attrs:{value:"2"}},[e._v("企业结算信息")])],1)],1),"1"===e.infoType?t("a-form-item",{attrs:{label:"账号名称"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["bankCardName",{initialValue:e.bankCardName,rules:[{required:!0,whitespace:!0,message:"必填"}]}],expression:"['bankCardName', { initialValue: bankCardName, rules: [{ required: true, whitespace: true, message: '必填' }] }]"}],attrs:{placeholder:"请输入账号名称","allow-clear":"",disabled:"2"===e.state}})],1):e._e(),"1"===e.infoType?t("a-form-item",{attrs:{label:"银行账号"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["bankCardNo",{initialValue:e.bankCardNo,rules:[{required:!0,whitespace:!0,message:"必填"}]}],expression:"['bankCardNo', { initialValue: bankCardNo, rules: [{ required: true, whitespace: true, message: '必填' }] }]"}],attrs:{placeholder:"请输入银行账号","allow-clear":"",disabled:"2"===e.state}})],1):e._e(),"1"===e.infoType?t("a-form-item",{attrs:{label:"开户银行",required:""}},[t("a-select",{attrs:{disabled:"2"===e.state,placeholder:"请选择"},model:{value:e.bankName,callback:function(a){e.bankName=a},expression:"bankName"}},e._l(e.bankList,(function(a,i){return t("a-select-option",{key:i,attrs:{value:a.bankInfo}},[e._v(e._s(a.bankInfo))])})),1)],1):e._e(),"1"===e.infoType?t("a-form-item",{attrs:{label:"开户行所在地",required:""}},[t("a-cascader",{attrs:{options:e.areaList,placeholder:"省份 / 城市",disabled:"2"===e.state},model:{value:e.area,callback:function(a){e.area=a},expression:"area"}})],1):e._e(),"1"===e.infoType?t("a-form-item",{attrs:{label:"开户银行全称"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["bankFullName",{initialValue:e.bankFullName,rules:[{required:!0,whitespace:!0,message:"必填"}]}],expression:"['bankFullName', { initialValue: bankFullName, rules: [{ required: true, whitespace: true, message: '必填' }] }]"}],attrs:{placeholder:"请输入开户银行全称","allow-clear":"",disabled:"2"===e.state}})],1):e._e(),"1"===e.infoType?t("a-form-item",{attrs:{label:"身份证号"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["idCardNo",{initialValue:e.idCardNo,rules:[{required:!0,whitespace:!0,message:"必填"}]}],expression:"['idCardNo', { initialValue: idCardNo, rules: [{ required: true, whitespace: true, message: '必填' }] }]"}],attrs:{placeholder:"请输入身份证号","allow-clear":"",disabled:"2"===e.state}})],1):e._e(),"1"===e.infoType?t("a-form-item",{attrs:{label:"账号关系",required:""}},[t("a-select",{attrs:{disabled:"2"===e.state,placeholder:"请选择"},model:{value:e.accountRelation,callback:function(a){e.accountRelation=a},expression:"accountRelation"}},e._l(e.relations,(function(a){return t("a-select-option",{key:a.value,attrs:{value:a.value}},[e._v(e._s(a.name))])})),1)],1):e._e(),"2"===e.infoType?t("a-form-item",{attrs:{label:"开票公司名称"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["invoiceCompany",{initialValue:e.invoiceCompany,rules:[{required:!0,whitespace:!0,message:"必填"}]}],expression:"['invoiceCompany', { initialValue: invoiceCompany, rules: [{ required: true, whitespace: true, message: '必填' }] }]"}],attrs:{placeholder:"请输入公司名称","allow-clear":"",disabled:"2"===e.state}})],1):e._e(),"2"===e.infoType?t("a-form-item",{attrs:{label:"开票公司性质",required:""}},[t("a-select",{attrs:{disabled:"2"===e.state,placeholder:"请选择"},model:{value:e.invoiceCompanyType,callback:function(a){e.invoiceCompanyType=a},expression:"invoiceCompanyType"}},e._l(e.companyTypes,(function(a){return t("a-select-option",{key:a.value,attrs:{value:a.value}},[e._v(e._s(a.name))])})),1)],1):e._e(),t("div",{class:"1"===e.state?"tip":"errorTip"},[e._v(e._s("2"===e.state?"*申请已提交，工作人员正在审核中，审核结果将会站内消息及短信进行通知":"1"===e.state?"*修改结算，需要进行审核，审核结果将会站内消息及短信进行通知":"*当前结算信息审核已通过，下个结算⽇⽣效"))]),"3"!==e.state?t("div",{class:"1"===e.state?"tip":"errorTip"},[e._v(e._s("*审核通过后下个月结单生效"))]):e._e(),t("a-form-item",{attrs:{labelCol:{span:"0"},wrapperCol:{span:"24",offset:"0"}}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{span:8,offset:8}},[t("a-button",{attrs:{block:!0,disabled:"2"===e.state,htmlType:"submit",type:"primary"}},[e._v("提交")])],1)],1)],1)],1),t("div",{staticClass:"companyTitle row-start-center"},[t("div",{staticClass:"pre"}),t("p",[e._v("梧桐花开信息")])]),t("div",{staticClass:"tipBox column-start-center"},[t("div",{staticClass:"tipLine row-between-center"},[t("p",[e._v("公司名称：")]),t("p",{staticClass:"right"},[e._v("北京梧桐花开科技有限公司")])]),t("div",{staticClass:"tipLine row-between-center"},[t("p",[e._v("税号：")]),t("p",{staticClass:"right"},[e._v("9982765528494038A")])]),t("div",{staticClass:"tipLine row-between-center"},[t("p",[e._v("公司地址：")]),t("p",{staticClass:"right"},[e._v("北京市海淀区知春路甲63号卫星科技⼤厦406")])]),t("div",{staticClass:"tipLine row-between-center"},[t("p",[e._v("邮编：")]),t("p",{staticClass:"right"},[e._v("101101")])])])],1)],1)],1)],1)},n=[],r=(t("d3b7"),t("159b"),t("07ac"),t("7db0"),t("caad"),t("2532"),t("f306")),s={name:"BalanceInfo",data:function(){return{spinning:!1,form:this.$form.createForm(this),initVO:{},companyTypes:[{name:"小规模纳税人",value:1},{name:"一般纳税人",value:2}],relations:[{name:"本人收款",value:1},{name:"非本人收款",value:99}],infoType:"1",invoiceCompany:"",invoiceCompanyType:"",bankCardName:"",bankCardNo:"",bankName:"",bankProvince:0,bankCity:0,bankFullName:"",idCardNo:"",accountRelation:1,state:"1",bankList:"",areaList:[],area:["3","10"],showArea:!0}},created:function(){},mounted:function(){this.initArea()},watch:{area:function(e){this.bankProvince=e[0],this.bankCity=e[1]}},methods:{initArea:function(){var e=this;this.spinning=!0,r["a"].bankProvinceList({}).then((function(a){var t=a.provinceList,i={};t.forEach((function(e){e.parentCityId||(i[e.cityId+""]={value:e.cityId+"",label:e.cityName,children:[]})})),t.forEach((function(e){e.parentCityId&&i[e.parentCityId+""]&&i[e.parentCityId+""].children.push({value:e.cityId+"",label:e.cityName})})),e.areaList=Object.values(i),e.initData()})).catch((function(e){})).finally((function(){e.spinning=!1}))},initData:function(){var e=this;this.spinning=!0,r["a"].balanceInfo({}).then((function(a){if(e.initVO=a,e.infoType=a.balanceType+""||"1",e.invoiceCompany=a.invoiceCompany||"",e.invoiceCompanyType=a.invoiceCompanyType||"",e.bankCardName=a.bankCardName||"",e.bankCardNo=a.bankCardNo||"",e.bankName=a.bankName||"",e.bankProvince=a.bankProvince||0,e.bankCity=a.bankCity||0,e.bankFullName=a.bankFullName||"",e.idCardNo=a.idCardNo||"",e.accountRelation=a.accountRelation||"",e.state=a.state||"1",e.bankList=a.bankList||[],e.bankProvince&&e.bankCity&&e.bankProvince===e.bankCity){var t=e.areaList.find((function(a){return a.value===e.bankProvince}));if(t){var i=t.children;e.bankCity=i[0].value}}e.area=[e.bankProvince,e.bankCity]})).catch((function(e){})).finally((function(){e.spinning=!1}))},handleSubmit:function(e){var a=this;e.preventDefault();var t="1"===this.infoType?["bankCardName","bankCardNo","bankFullName","idCardNo"]:["invoiceCompany","invoiceCompanyType"];this.form.validateFields(t,(function(e,t){if(!e){var i=Object.assign({},t);"1"===a.infoType?(i.bankName=a.bankName,i.bankProvince=a.bankProvince,i.bankCity=a.bankCity,i.accountRelation=a.accountRelation):i.invoiceCompanyType=a.invoiceCompanyType;var n=Object.values(i);if(n.includes("")||n.includes(0))return void a.$message.error("请继续完善信息");if(a.initVO){var s=!1;for(var o in i)if(i[o]!==a.initVO[o]){s=!0;break}if(!s)return}i.balanceType=a.infoType;var l="balanceChange";a.spinning=!0,r["a"][l](i).then((function(e){a.spinning=!1,a.state="2",a.$message.success("已提交")})).catch((function(e){a.spinning=!1,"0003"!==e.responseCode||e.responseDes||a.$message.error("上次申请还未审核通过")}))}}))}}},o=s,l=(t("4c80"),t("2877")),c=Object(l["a"])(o,i,n,!1,null,"572b0321",null);a["default"]=c.exports},"4c80":function(e,a,t){"use strict";t("989e")},"989e":function(e,a,t){}}]);