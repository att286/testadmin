(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d401b"],{"5ed9":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-header-wrapper",{attrs:{title:!1}},[a("a-spin",{attrs:{spinning:t.spinning}},[a("a-card",{attrs:{bordered:!1}},[a("s-table",{ref:"table",attrs:{size:"default",rowKey:"brokerName",columns:t.columns,data:t.loadData,alert:!1,scroll:{x:t.tableX},showPagination:"auto"},scopedSlots:t._u([{key:"desc",fn:function(e,n){return a("span",{},[[a("span",{staticStyle:{"white-space":"pre-wrap"}},[t._v(t._s(n.activityDesc))])]],2)}}])})],1)],1)],1)},r=[],i=(a("159b"),a("fb6a"),a("2af9")),o=a("f306"),s=a("c1df"),c=a.n(s);function u(t){var e=c()(t,"YYYYMMDD").valueOf(),a=864e5,n=Date.now()-e;return n>a?Math.round(n/a)+"天前":"刚刚"}var d=[{title:"发布时间",dataIndex:"updateTime",customRender:function(t){return u(t)},width:100},{title:"券商名称",dataIndex:"brokerName",width:180},{title:"活动描述",dataIndex:"",scopedSlots:{customRender:"desc"}},{title:"状态",dataIndex:"status",customRender:function(t){return"1"===t?"进行中":"已结束"},width:80}],l={name:"BrokerActivity",components:{STable:i["c"]},data:function(){var t=this;return this.columns=d,{spinning:!1,dataList:[],queryParam:{},loadData:function(e){return o["a"].activeList({}).then((function(a){var n=a.activeList;return t.dataList=n,t.getTableList(e,n)})).catch((function(){}))}}},filters:{},created:function(){var t=this;this.$root.eventHub.$on("refreshView",(function(){t.$refs.table&&t.$refs.table.refresh()}))},beforeRouteLeave:function(t,e,a){this.$root.eventHub.$off("refreshView"),a()},computed:{tableX:function(){var t=0;return this.columns.forEach((function(e){t+=e.width})),t}},watch:{},methods:{getTableList:function(t,e){var a=t.pageNo,n=t.pageSize,r=(a-1)*n,i=r+n,o=e.slice(r,i);return{totalCount:e.length,data:o,pageNo:+t.pageNo}}}},f=l,p=a("2877"),h=Object(p["a"])(f,n,r,!1,null,null,null);e["default"]=h.exports}}]);