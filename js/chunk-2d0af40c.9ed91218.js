(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0af40c"],{"0e12":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-header-wrapper",{attrs:{title:!1}},[a("a-spin",{attrs:{spinning:t.spinning}},[a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{md:5,sm:24}},[a("a-form-item",{attrs:{label:"渠道",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"所有渠道","default-active-first-option":!0,disabled:!t.multipleChannel,"show-arrow":!0},on:{change:t.switchChannel},model:{value:t.curChannelId,callback:function(e){t.curChannelId=e},expression:"curChannelId"}},t._l(t.channels,(function(e){return a("a-select-option",{key:e.channelId,attrs:{value:e.channelId}},[t._v(" "+t._s(e.channelName)+" ")])})),1)],1)],1)],1)],1)],1),a("a-tabs",{on:{change:t.changeTab},model:{value:t.curTab,callback:function(e){t.curTab=e},expression:"curTab"}},t._l(t.tabList,(function(e){return a("a-tab-pane",{key:e,attrs:{tab:t.tabType[e],name:t.tabType[e]}})})),1),t.tabList.length?a("s-table",{ref:"table",attrs:{size:"default",rowKey:"updateTime",columns:t.tableColumn[t.isKA?t.curTab+"_ka":t.curTab],data:t.loadData,alert:!1,scroll:{x:t.tableX},showPagination:"auto"},scopedSlots:t._u([{key:"desc",fn:function(e){return a("span",{},[[a("span",{staticStyle:{"white-space":"pre-wrap"}},[t._v(t._s(e))])]],2)}}],null,!1,4130440330)}):a("a-empty")],1)],1)],1)},d=[],i=a("5530"),c=(a("d3b7"),a("7db0"),a("159b"),a("fb6a"),a("d81d"),a("99af"),a("c1df")),s=a.n(c),r=a("2af9"),o=a("f306"),l=a("2f62"),u={1:"固定金额奖励",2:"阶梯-月有效户奖励",3:"阶梯-入金金额奖励",4:"分佣奖励"},h={1:"元",2:"港币",3:"美元"},p={1:"首次入金",2:"首日入金",3:"累计入金"},m={1:"天",2:"个月"},w={1:">",2:"≥",3:"<",4:"≤"},f={1:"<",2:"≤",3:">",4:"≥"},I={1:"现金打新：",2:"融资打新：",3:"经纪佣金：",4:"融资利息：",5:"暗盘佣金：",6:"交易佣金：",7:"平台费：",8:"券商净收入：",9:"期货交易：",10:"净佣金：",11:"中签费："},x={1:function(t){return t+"%"},2:function(t,e,a){var n="";return a&&(n+="1"===a?"甲组：":"乙组："),n+=t,n+="2"===e?"港币":"3"===e?"美元":"元",n},3:"不分成"},b={1:[{title:"发布时间",dataIndex:"发布时间",width:100},{title:"券商名称",dataIndex:"券商名称",width:140},{title:"最低入金标准及留存时间",dataIndex:"最低入金标准",width:240},{title:"每户奖励",dataIndex:"固定奖励",width:180,scopedSlots:{customRender:"desc"}},{title:"佣金分成",title2:"\n(皆以券商净收入作为计算分佣金额)",dataIndex:"佣金分成",width:240,align:"center",scopedSlots:{customRender:"desc"}},{title:"其他要求",dataIndex:"其他要求",width:260,scopedSlots:{customRender:"desc"}}],"1_ka":[{title:"发布时间",dataIndex:"发布时间",width:100},{title:"券商名称",dataIndex:"券商名称",width:140},{title:"最低入金标准及留存时间",dataIndex:"最低入金标准",width:240},{title:"每户奖励",dataIndex:"固定奖励",width:180,scopedSlots:{customRender:"desc"}},{title:"佣金分成\n(皆以券商净收入作为计算分佣金额)",dataIndex:"佣金分成",width:240,align:"center",scopedSlots:{customRender:"desc"}},{title:"其他要求",dataIndex:"其他要求",width:260,scopedSlots:{customRender:"desc"}}],2:[{title:"发布时间",dataIndex:"发布时间",width:100},{title:"券商名称",dataIndex:"券商名称",width:140},{title:"最低入金标准及留存时间",dataIndex:"最低入金标准",width:240},{title:"有效户数量",dataIndex:"阶梯有效户数量",width:220,scopedSlots:{customRender:"desc"}},{title:"每户奖励",dataIndex:"阶梯奖励",width:160,scopedSlots:{customRender:"desc"}},{title:"开户奖励",dataIndex:"固定奖励",width:160,scopedSlots:{customRender:"desc"}},{title:"佣金分成",title2:"\n(皆以券商净收入作为计算分佣金额)",dataIndex:"佣金分成",width:240,align:"center",scopedSlots:{customRender:"desc"}},{title:"其他要求",dataIndex:"其他要求",width:260,scopedSlots:{customRender:"desc"}}],"2_ka":[{title:"发布时间",dataIndex:"发布时间",width:100},{title:"券商名称",dataIndex:"券商名称",width:140},{title:"最低入金标准及留存时间",dataIndex:"最低入金标准",width:240},{title:"有效户数量",dataIndex:"阶梯有效户数量",width:220,scopedSlots:{customRender:"desc"}},{title:"每户奖励",dataIndex:"阶梯奖励",width:160,scopedSlots:{customRender:"desc"}},{title:"开户奖励",dataIndex:"固定奖励",width:160,scopedSlots:{customRender:"desc"}},{title:"佣金分成\n(皆以券商净收入作为计算分佣金额)",dataIndex:"佣金分成",width:240,align:"center",scopedSlots:{customRender:"desc"}},{title:"其他要求",dataIndex:"其他要求",width:260,scopedSlots:{customRender:"desc"}}],3:[{title:"发布时间",dataIndex:"发布时间",width:100},{title:"券商名称",dataIndex:"券商名称",width:140},{title:"入金金额",dataIndex:"阶梯入金金额",width:220,scopedSlots:{customRender:"desc"}},{title:"每户奖励",dataIndex:"阶梯奖励",width:160,scopedSlots:{customRender:"desc"}},{title:"佣金分成",dataIndex:"佣金分成",width:140,scopedSlots:{customRender:"desc"}},{title:"其他要求",dataIndex:"其他要求",width:260,scopedSlots:{customRender:"desc"}}],"3_ka":[{title:"发布时间",dataIndex:"发布时间",width:100},{title:"券商名称",dataIndex:"券商名称",width:140},{title:"入金金额",dataIndex:"阶梯入金金额",width:220,scopedSlots:{customRender:"desc"}},{title:"每户奖励",dataIndex:"阶梯奖励",width:160,scopedSlots:{customRender:"desc"}},{title:"佣金分成",dataIndex:"佣金分成",width:140,scopedSlots:{customRender:"desc"}},{title:"其他要求",dataIndex:"其他要求",width:260,scopedSlots:{customRender:"desc"}}],4:[{title:"发布时间",dataIndex:"发布时间",width:100},{title:"券商名称",dataIndex:"券商名称",width:140},{title:"最低入金标准及留存时间",dataIndex:"最低入金标准",width:200},{title:"每户奖励",dataIndex:"固定奖励",width:160,scopedSlots:{customRender:"desc"}},{title:"佣金分成",title2:"\n(皆以券商净收入作为计算分佣金额)",dataIndex:"佣金分成",width:240,align:"center",scopedSlots:{customRender:"desc"}},{title:"其他要求",dataIndex:"其他要求",width:140,scopedSlots:{customRender:"desc"}}],"4_ka":[{title:"发布时间",dataIndex:"发布时间",width:100},{title:"券商名称",dataIndex:"券商名称",width:140},{title:"最低入金标准及留存时间",dataIndex:"最低入金标准",width:200},{title:"每户奖励",dataIndex:"固定奖励",width:160,scopedSlots:{customRender:"desc"}},{title:"佣金分成\n(皆以券商净收入作为计算分佣金额)",dataIndex:"佣金分成",width:240,align:"center",scopedSlots:{customRender:"desc"}},{title:"其他要求",dataIndex:"其他要求",width:140,scopedSlots:{customRender:"desc"}}]},T={name:"BrokerPolicy",components:{STable:r["c"]},data:function(){var t=this;return{spinning:!1,dataList:[],curChannelId:"0",queryParam:{},tabList:[],curTab:"",tabType:u,tableColumn:b,loadData:function(e){var a=Object.assign({},e,t.queryParam);return o["a"].awardDetailList(a).then((function(e){return t.dataList=t.parseResult(e.awardDetailList),t.getTableList(a,t.dataList)})).catch((function(){})).finally((function(){}))}}},filters:{},created:function(){var t=this;this.$root.eventHub.$on("refreshView",(function(){t.$refs.table&&t.$refs.table.refresh()})),this.curChannelId=this.channels[0].channelId,this.queryParam.channelId=this.curChannelId,this.getTypeList()},beforeRouteLeave:function(t,e,a){this.$root.eventHub.$off("refreshView"),a()},computed:Object(i["a"])(Object(i["a"])({},Object(l["b"])(["channels"])),{},{multipleChannel:function(){return"2"===this.$store.state.user.userType},isKA:function(){var t=this,e=this.channels.find((function(e){return e.channelId===t.curChannelId}));return"13"===e.policyType},tableX:function(){var t=0;return this.tableColumn[this.isKA?this.curTab+"_ka":this.curTab].forEach((function(e){t+=e.width})),t}}),watch:{curTab:function(t){this.queryParam.awardType=t}},methods:{getTableList:function(t,e){var a=t.pageNo,n=t.pageSize,d=(a-1)*n,i=d+n,c=e.slice(d,i);return{totalCount:e.length,data:c,pageNo:+t.pageNo}},getTypeList:function(){var t=this;this.spinning=!0,o["a"].awardTypeList({channelId:this.curChannelId}).then((function(e){t.tabList=e.awardTypeList.map((function(t){return t.awardType})),t.curTab&&t.tabList.find((function(e){return t.curTab===e}))||(t.curTab=t.tabList[0]),t.$nextTick((function(){t.$refs.table.refresh(!0)}))})).catch((function(e){t.tabList=[]})).finally((function(){t.spinning=!1}))},switchChannel:function(t){this.queryParam.channelId=this.curChannelId,this.getTypeList()},changeTab:function(t){var e=this;this.$nextTick((function(){e.$refs.table.refresh(!0)}))},parseResult:function(t){var e=this,a=[];return t.forEach((function(t){var n={};n["发布时间"]=e.getUpdateTimeStr(t.updateTime),n["券商名称"]=t.brokerName,t.enrollStandard&&0!==parseInt(t.enrollStandard)?(n["最低入金标准"]=p[t.enrollTimeType]+e.fixNum(t.enrollStandard)+h[t.enrollCurrency],t.fundRemainTime&&(n["最低入金标准"]+="，留存".concat(t.fundRemainTime).concat(m[t.fundRemainUnit]))):n["最低入金标准"]="无要求",t.awardList?(n["固定奖励"]="",n["阶梯有效户数量"]="",n["阶梯入金金额"]="",n["阶梯奖励"]="",t.awardList.forEach((function(t){if("1"===t.awardRuleType)n["固定奖励"]=e.addStr(n["固定奖励"],"有效户奖励：".concat(t.awardAmount).concat(h[t.awardCurrency],"/户"));else if("4"===t.awardRuleType)n["固定奖励"]=e.addStr(n["固定奖励"],"开户奖励：".concat(t.awardAmount).concat(h[t.awardCurrency],"/户"));else if("2"===t.awardRuleType){var a="".concat(Math.floor(t.minValue)).concat(f[t.minCompareType],"有效户");t.maxValue&&(a+="".concat(w[t.maxCompareType]).concat(Math.floor(t.maxValue))),n["阶梯有效户数量"]=e.addStr(n["阶梯有效户数量"],a),n["阶梯奖励"]=e.addStr(n["阶梯奖励"],"".concat("2"===t.awardRange?"阶梯内 ":"").concat(t.awardAmount).concat(h[t.awardCurrency],"/户"))}else if("3"===t.awardRuleType){var d="".concat(e.fixNum(t.minValue)).concat(h[t.enrollCurrency]).concat(f[t.minCompareType],"入金金额");t.maxValue&&(d+="".concat(w[t.maxCompareType]).concat(e.fixNum(t.maxValue)).concat(h[t.enrollCurrency])),n["阶梯入金金额"]=e.addStr(n["阶梯入金金额"],d),n["阶梯奖励"]=e.addStr(n["阶梯奖励"],"".concat("2"===t.awardRange?"阶梯内 ":"").concat(t.awardAmount).concat(h[t.awardCurrency],"/户"))}})),n["固定奖励"]||(n["固定奖励"]="无")):(n["固定奖励"]="无",n["阶梯有效户数量"]="无",n["阶梯入金金额"]="无",n["阶梯奖励"]="无"),t.commissionRule&&t.commissionRule.length?(n["佣金分成"]="",t.commissionRule.forEach((function(t){var a="1"===t.shareType?t.shareRate:t.shareAmount;n["佣金分成"]=e.addStr(n["佣金分成"],"".concat(I[t.commissionType]).concat(x[t.shareType](a,t.balanceCurrency,t.financeType)))}))):n["佣金分成"]="无",n["其他要求"]=t.otherDesc?t.otherDesc:"无",a.push(n)})),a},getUpdateTimeStr:function(t){var e=s()(t,"YYYY-MM-DD HH:mm:ss").valueOf(),a=864e5,n=s()().valueOf()-e;return n>a?Math.round(n/a)+"天前":"刚刚"},addStr:function(t,e){return t||(t=""),t.length>0&&(t+="\r\n"),t+e},fixNum:function(t){return t=parseInt(t),t>=1e4?t/1e4+"万":Math.floor(t)}}},y=T,S=a("2877"),R=Object(S["a"])(y,n,d,!1,null,null,null);e["default"]=R.exports}}]);