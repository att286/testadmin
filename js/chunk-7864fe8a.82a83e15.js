(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7864fe8a"],{"1af1":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("page-header-wrapper",{attrs:{title:!1}},[n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.handleAdd}},[t._v("添加")]),n("a-button",{attrs:{type:"primary",icon:"edit",disabled:1!==t.selectedRowKeys.length},on:{click:function(e){return t.handleEdit()}}},[t._v("修改")]),n("a-button",{attrs:{type:"primary",icon:"delete",disabled:0===t.selectedRowKeys.length},on:{click:function(e){return t.handleDelete()}}},[t._v("删除")])],1),n("s-table",{ref:"table",attrs:{size:"default",rowKey:"postId",columns:t.columns,data:t.loadData,alert:!1,rowSelection:t.rowSelection,showPagination:!1},scopedSlots:t._u([{key:"status",fn:function(e,r,a){return n("span",{},[n("a-switch",{attrs:{loading:a===t.switchIndex,checked:t._f("userStatus")(r)},on:{change:function(n){return t.onStatusChange(n,e,r,a)}}})],1)}},{key:"action",fn:function(e,r){return n("span",{},[[n("a",{on:{click:function(e){return t.handleEdit(r)}}},[t._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:function(e){return t.handleDelete(r)}}},[t._v("删除")])]],2)}}])})],1),n("post-edit",{ref:"createModal",attrs:{visible:t.modalVisible,loading:t.confirmLoading,model:t.modalData},on:{cancel:t.handleCancel,ok:t.handleOk}})],1)},a=[],o=n("5530"),s=(n("a15b"),n("d3b7"),n("c1df")),i=n.n(s),l=n("2af9"),u=n("8593"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-modal",{attrs:{title:t.editType,width:640,maskClosable:!1,visible:t.visible,confirmLoading:t.loading,centered:!0,bodyStyle:{maxHeight:"80vh",overflowY:"auto"}},on:{ok:function(){t.$emit("ok")},cancel:function(){t.$emit("cancel")}}},[n("a-spin",{attrs:{spinning:t.loading}},[n("a-form",t._b({attrs:{form:t.form}},"a-form",t.formLayout,!1),[n("a-form-item",{attrs:{label:"岗位名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["postName",{initialValue:t.model.postName,rules:[{required:!0,message:"必填"}]}],expression:"['postName', { initialValue: model.postName, rules: [{ required: true, message: '必填' }] }]"}],attrs:{"allow-clear":""}})],1),n("a-form-item",{attrs:{label:"岗位编码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["postCode",{initialValue:t.model.postCode,rules:[{required:!0,message:"必填"}]}],expression:"['postCode', { initialValue: model.postCode, rules: [{ required: true, message: '必填' }] }]"}],attrs:{"allow-clear":""}})],1),n("a-form-item",{attrs:{label:"显示顺序"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["postSort",{initialValue:t.model.postSort,rules:[{required:!0,message:"必填"}]}],expression:"['postSort', { initialValue: model.postSort, rules: [{ required: true, message: '必填' }] }]"}],attrs:{"allow-clear":""}})],1),n("a-form-item",{attrs:{label:"岗位状态"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{initialValue:t.model.status||"0"}],expression:"['status', {initialValue: model.status || '0'}]"}]},[n("a-radio",{attrs:{value:"0"}},[t._v("正常")]),n("a-radio",{attrs:{value:"1"}},[t._v("停用")])],1)],1)],1)],1)],1)},d=[],f=n("88bc"),m=n.n(f),p=["postName","postCode","postSort","status"],h={props:{visible:{type:Boolean,required:!0},loading:{type:Boolean,default:function(){return!1}},model:{type:Object,default:function(){}}},data:function(){return this.formLayout={labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}}},{form:this.$form.createForm(this),editType:"添加"}},created:function(){var t=this;p.forEach((function(e){return t.form.getFieldDecorator(e)})),this.$watch("model",(function(){t.model&&t.form.setFieldsValue(m()(t.model,p)),t.editType=t.model.postId?"修改":"添加"}))}},v=h,b=n("2877"),g=Object(b["a"])(v,c,d,!1,null,null,null),P=g.exports,w=[{title:"岗位编号",dataIndex:"postId",ellipsis:!0},{title:"岗位编码",dataIndex:"postCode",ellipsis:!0},{title:"岗位名称",dataIndex:"postName",ellipsis:!0},{title:"显示顺序",dataIndex:"postSort",ellipsis:!0},{title:"状态",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"创建时间",dataIndex:"createTime",ellipsis:!0},{title:"操作",scopedSlots:{customRender:"action"}}],y={name:"PostList",components:{STable:l["c"],PostEdit:P},data:function(){var t=this;return this.columns=w,{modalVisible:!1,confirmLoading:!1,modalData:{},queryParam:{status:"0"},loadData:function(e){var n=Object.assign({},t.queryParam);return n.status-=1,u["a"].postList(n).then((function(e){if("0000"===e.responseCode)return e.data=e.posts,e.data.sort((function(t,e){return t.postSort-e.postSort})),t.onSelectChange([],[]),e})).catch((function(){}))},postData:[],selectedRowKeys:[],selectedRows:[],switchIndex:""}},filters:{userStatus:function(t){return"0"===t.status}},created:function(){var t=this;this.$root.eventHub.$on("refreshView",(function(){t.$refs.table&&t.$refs.table.refresh()}))},beforeRouteLeave:function(t,e,n){this.$root.eventHub.$off("refreshView"),n()},computed:{rowSelection:function(){return{selectedRowKeys:this.selectedRowKeys,onChange:this.onSelectChange}}},methods:{handleAdd:function(){this.modalVisible=!0},handleEdit:function(t){if(t);else{if(!this.selectedRowKeys.length)return;t=this.selectedRows[0]}this.modalVisible=!0,this.modalData=Object(o["a"])({},t)},handleDelete:function(t){var e=this;this.$confirm({title:"系统提示",content:"确认要删除".concat(this.selectedRowKeys.length?"选中的".concat(this.selectedRowKeys.length):"该","条岗位数据吗？"),okText:"确认",cancelText:"取消",onOk:function(){e.doDelete(t)},onCancel:function(){}})},doDelete:function(t){var e=this,n="";if(t)n=t.postId;else{if(!this.selectedRowKeys.length)return;n=this.selectedRowKeys.join(",")}u["a"].deletePosts({postIds:n}).then((function(t){e.$refs.table.refresh(),e.$message.info("删除成功")}))},handleOk:function(){var t=this,e=this.$refs.createModal.form;this.confirmLoading=!0,e.validateFields((function(e,n){if(e)t.confirmLoading=!1;else{var r=t.modalData.postId,a=r?"updatePost":"addPost",s=Object(o["a"])({},n);r&&(s.postId=r),u["a"][a](s).then((function(e){t.$message.info("操作成功"),t.handleCancel(),t.$refs.table.refresh()})).catch((function(){t.confirmLoading=!1}))}}))},handleCancel:function(){this.modalVisible=!1,this.confirmLoading=!1,this.modalData={};var t=this.$refs.createModal.form;t.resetFields()},onSelectChange:function(t,e){this.selectedRowKeys=t,this.selectedRows=e},resetSearchForm:function(){this.queryParam={date:i()(new Date)}},onStatusChange:function(t,e,n,r){var a=this;this.switchIndex=r;var o={postId:n.postId,status:"0"===n.status?"1":"0"};u["a"].updatePost(o).then((function(t){n.status="0"===n.status?"1":"0"})).finally((function(){a.switchIndex=""}))}}},_=y,I=Object(b["a"])(_,r,a,!1,null,null,null);e["default"]=I.exports},8593:function(t,e,n){"use strict";var r=n("a417"),a="https://platform.xincaitong.com/WtPlatformSysWeb/sysPlatform.jhtml",o=Object({NODE_ENV:"production",VUE_APP_PREVIEW:"false",VUE_APP_OUTPUT:"",VUE_APP_API_BASE:"https://mservice.xincaitong.com/KolPlatformWeb/kolPlatform.jhtml",VUE_APP_API_SYSTEM:"https://platform.xincaitong.com/WtPlatformSysWeb/sysPlatform.jhtml",VUE_APP_API_SMS:"https://mservice.xincaitong.com/WtSmsCenter/sms.jhtml",VUE_APP_API_RECORD:"https://mservice.xincaitong.com/WtDataWeb/data.jhtml",VUE_APP_API_TA:"https://margin.xincaitong.com/WtmpGateway",VUE_APP_API_ETFGRID:"https://mservice.xincaitong.com/WtPhoenixGateway/",VUE_APP_API_WX:"https://mservice.xincaitong.com/WtWxPluginWeb/wx.jhtml",VUE_APP_API_MOCK_URL:"/api",BASE_URL:""}).VUE_APP_GAMEID||"eagleeye";function s(t){var e=r["b"].network(t,a);return e}function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1.0",a=r["b"].genParams(o,t,e,n);return a}e["a"]={captchaImage:function(t){var e=i("captchaImage",t);return s(e)},login:function(t){var e=i("login",t);return s(e)},updatePwd:function(t){var e=i("updatePwd",t);return s(e)},resetPwd:function(t){var e=i("resetPwd",t);return s(e)},userList:function(t){var e=i("userList",t);return s(e)},addUser:function(t){var e=i("addUser",t);return s(e)},userInfo:function(t){var e=i("userInfo",t);return s(e)},updateUser:function(t){var e=i("updateUser",t);return s(e)},deleteUsers:function(t){var e=i("batchRemoveUser",t);return s(e)},postList:function(t){var e=i("postList",t);return s(e)},addPost:function(t){var e=i("addPost",t);return s(e)},postInfo:function(t){var e=i("postInfo",t);return s(e)},updatePost:function(t){var e=i("updatePost",t);return s(e)},deletePosts:function(t){var e=i("batchRemovePost",t);return s(e)},deptList:function(t){var e=i("deptList",t);return s(e)},addDept:function(t){var e=i("addDept",t);return s(e)},deptInfo:function(t){var e=i("deptInfo",t);return s(e)},updateDept:function(t){var e=i("updateDept",t);return s(e)},deleteDept:function(t){var e=i("removeDept",t);return s(e)},menuList:function(t){var e=i("menuList",t);return s(e)},addMenu:function(t){var e=i("addMenu",t);return s(e)},menuInfo:function(t){var e=i("menuInfo",t);return s(e)},updateMenu:function(t){var e=i("updateMenu",t);return s(e)},deleteMenu:function(t){var e=i("removeMenu",t);return s(e)},logoout:function(t){var e=i("logout",t);return s(e)},simpleRoleList:function(t){var e=i("roleBriefList",t);return s(e)},roleList:function(t){var e=i("roleList",t);return s(e)},addRole:function(t){var e=i("addRole",t);return s(e)},updateRole:function(t){var e=i("updateRole",t);return s(e)},deleteRoles:function(t){var e=i("batchRemoveRole",t);return s(e)},roleMenuData:function(t){var e=i("roleMenuTreeSelect",t);return s(e)},roleUsersAssociated:function(t){var e=i("allocatedList",t);return s(e)},roleUsersUnassociated:function(t){var e=i("unallocatedList",t);return s(e)},associateRoleUsers:function(t){var e=i("selectAuthUserAll",t);return s(e)},disassociateRoleUsers:function(t){var e=i("cancelAuthUserAll",t);return s(e)}}},"88bc":function(t,e,n){(function(e){var n=1/0,r=9007199254740991,a="[object Arguments]",o="[object Function]",s="[object GeneratorFunction]",i="[object Symbol]",l="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,c=l||u||Function("return this")();function d(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function f(t,e){var n=-1,r=t?t.length:0,a=Array(r);while(++n<r)a[n]=e(t[n],n,t);return a}function m(t,e){var n=-1,r=e.length,a=t.length;while(++n<r)t[a+n]=e[n];return t}var p=Object.prototype,h=p.hasOwnProperty,v=p.toString,b=c.Symbol,g=p.propertyIsEnumerable,P=b?b.isConcatSpreadable:void 0,w=Math.max;function y(t,e,n,r,a){var o=-1,s=t.length;n||(n=A),a||(a=[]);while(++o<s){var i=t[o];e>0&&n(i)?e>1?y(i,e-1,n,r,a):m(a,i):r||(a[a.length]=i)}return a}function _(t,e){return t=Object(t),I(t,e,(function(e,n){return n in t}))}function I(t,e,n){var r=-1,a=e.length,o={};while(++r<a){var s=e[r],i=t[s];n(i,s)&&(o[s]=i)}return o}function S(t,e){return e=w(void 0===e?t.length-1:e,0),function(){var n=arguments,r=-1,a=w(n.length-e,0),o=Array(a);while(++r<a)o[r]=n[e+r];r=-1;var s=Array(e+1);while(++r<e)s[r]=n[r];return s[e]=o,d(t,this,s)}}function A(t){return E(t)||x(t)||!!(P&&t&&t[P])}function R(t){if("string"==typeof t||k(t))return t;var e=t+"";return"0"==e&&1/t==-n?"-0":e}function x(t){return j(t)&&h.call(t,"callee")&&(!g.call(t,"callee")||v.call(t)==a)}var E=Array.isArray;function V(t){return null!=t&&U(t.length)&&!L(t)}function j(t){return C(t)&&V(t)}function L(t){var e=D(t)?v.call(t):"";return e==o||e==s}function U(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}function D(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function C(t){return!!t&&"object"==typeof t}function k(t){return"symbol"==typeof t||C(t)&&v.call(t)==i}var O=S((function(t,e){return null==t?{}:_(t,f(y(e,1),R))}));t.exports=O}).call(this,n("c8ba"))}}]);