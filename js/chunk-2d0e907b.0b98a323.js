(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e907b"],{"8c93":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("page-header-wrapper",{attrs:{title:t.title}},[n("a-spin",{attrs:{spinning:t.spinning}},[n("a-card",{attrs:{bordered:!1}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:5,sm:24}},[n("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"所有渠道","default-active-first-option":!0,"show-arrow":!0},on:{change:t.switchChannel},model:{value:t.curChannelId,callback:function(e){t.curChannelId=e},expression:"curChannelId"}},["2"===t.curTab?n("a-select-option",{key:"0",attrs:{value:"0"}},[t._v(" 所有渠道 ")]):t._e(),t._l(t.channelList,(function(e){return n("a-select-option",{key:e.channelId,attrs:{value:e.channelId}},[t._v(" "+t._s(e.channelName)+" ")])}))],2)],1)],1)],1),n("a-card",{attrs:{bordered:!1}},[n("s-table",{ref:"table",attrs:{size:"default",rowKey:"brokerName",columns:t.columns,data:t.loadData,alert:!1,scroll:{x:t.tableX},showPagination:"auto"}})],1)],1)],1)},i=[],s=(n("99af"),n("159b"),n("fb6a"),n("2af9")),r=n("f306"),l={name:"MonthlyInfo",components:{STable:s["c"]},data:function(){var t=this;return{spinning:!1,title:"",curTab:"1",channelList:[],balanceMonth:"-",dataList:[],curChannelId:"",isKunPengChannel:!1,queryParam:{},brokers:[],loadData:function(e){var n=Object.assign({},e),a=t.curChannelId;return n.settlementMonth=t.balanceMonth,"0"!==a&&(n.channelId=a),"2"===t.curTab&&t.curOrganId&&(n.organCode=t.curOrganId),r["a"].examineMonthlyDetail(n).then((function(n){return t.dataList=n.detailList,t.getTableList(e,t.dataList)})).catch((function(){}))}}},filters:{},created:function(){var t=this;this.$root.eventHub.$on("refreshView",(function(){t.$refs.table&&t.$refs.table.refresh()}));var e=sessionStorage.getItem("ExamineInfo");if(e){var n=JSON.parse(e);if(this.channelList=n.channelList,this.curChannelId=n.curChannelId||"0",this.curOrganId=n.curOrganId||"0",this.balanceMonth=n.balanceMonth,this.balanceMonth){var a=this.balanceMonth.substr(0,4),i=this.balanceMonth.substr(4);this.title="".concat(a,"年").concat(i,"月结算明细")}this.curTab=n.curTab||"1"}},mounted:function(){},beforeRouteLeave:function(t,e,n){this.$root.eventHub.$off("refreshView"),n()},computed:{columns:function(){var t=[];return t.push({title:"券商名称",dataIndex:"brokerName",width:150,ellipsis:!0}),this.isKunPengChannel||(t.push({title:"开户数量",dataIndex:"openNum",customRender:function(t){return t||"-"},width:150,ellipsis:!0}),t.push({title:"开户奖励",dataIndex:"totalOpenAwardAmount",width:150,ellipsis:!0})),t.push({title:"有效入金数量",dataIndex:"validNum",width:150,ellipsis:!0}),t.push({title:"有效入金奖励",dataIndex:"totalUserAwardAmount",width:150,ellipsis:!0}),this.isKunPengChannel||(t.push({title:"融资打新分成(RMB)",dataIndex:"incomePurchaseNew",width:160,ellipsis:!0}),t.push({title:"交易佣金分成(RMB)",dataIndex:"incomeCommission",width:160,ellipsis:!0})),t.push({title:"结算金额(含税)",dataIndex:"balanceAmount",width:150,ellipsis:!0}),t},tableX:function(){var t=0;return this.columns.forEach((function(e){t+=e.width})),t}},watch:{curChannelId:function(t,e){var n=this;this.isKunPengChannel=!1,this.channelList.forEach((function(e){e.channelId===t&&"12"===e.type&&(n.isKunPengChannel=!0)}))}},methods:{getTableList:function(t,e){var n=t.pageNo,a=t.pageSize,i=(n-1)*a,s=i+a,r=e.slice(i,s);return{totalCount:e.length,data:r,pageNo:+t.pageNo}},switchChannel:function(t){this.dataList=[],this.$refs.table.refresh(!0)}}},o=l,c=n("2877"),h=Object(c["a"])(o,a,i,!1,null,null,null);e["default"]=h.exports}}]);