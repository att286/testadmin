(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-507c7999"],{"0545":function(e,t,n){},"150d":function(e,t,n){e.exports=n.p+"img/cb_intro.6576c825.png"},1907:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM8AAADQCAMAAACX38UjAAAAAXNSR0IArs4c6QAAAblQTFRFAAAA/wD/gID/qlWqgFXVkm3bgGDfjlXGiWLYiGbMllrSnGPVkGTek2LYj1jXk1XYjlXVjFvVi1fWlFzWkVrXklrVkFjVj1nXklzZkFrakVrYkVvZj1rWkFzWk1fZklzWlFfXkFnXkVvVklrVkFrZj1rVj1nZklnXklrXkFzWkVvWkVvXkVzWj1zVklrYkVnYklnYkVrXkFnYkVrWkFrXkFvYkVrWkFrWkVvWkFvXkVnXkFrWkVnXkFnXklnXklrXkVrWkFrXkVrWkVrWkFrWkFrXkVrXkVvXkVvXkFrXkFnWkVrXkFrWkVrXkVrXkVrXkVrXkVrXkVrXkVvXklvXklzXk13YlF7YlGDZlV/YlWLZlmPal2XamGPamGbamWjbnGvbnm7cn3DcoHDco3TdpHbepXfepnzfp3vfqX/gqoHhq4Lhrobir4fjsovjtJDkuJXmupnnvJvnvp3owqXqyKzryK3s0bvv073w1L7v1L/w3c303s304ND14dH149T15df25dn259v36d746+H58ej68+379fD89vH89/L99/P9+fb+/Pn+/fr+/fz+/fz//v7///7/////CIr8gAAAAFJ0Uk5TAAECAwYHCAkNDxESFxogISQqLDIzNjc5PT5BQ0RFSUtMU1pbXmBkZ2x1dnl9gIiJio2PkJOVm5ypsbK2t7q9xMnLzM7P0dnh4+nt8fL1+fr7/vW5lhQAAAJoSURBVHja7dVXU1RBEIbhwZxZRURFTGDENSAGFHNcZRVHcRUD5pwTBhQVA6iozC+27DkcFgTuP+t9r6b7qp/aqrPOkVTjZ82rkmn29DGjWcZWbtjtxdq1tnwEzYx1B71kjYuG4yw96mVryPzDqfXK5WuGcOq9eCsGcbLpvnD97n2Zbl46mR5eXcSpTnanHr7rDVL1vLqR3N5UmnJKm+LqysegV197IV6/JfWsj4s734JkHy7E++cnnEmHbLz2PYjW2WKAzYlnoU0tXUG25yY4NiF6Ntn0SJcTfrQZYUH0HLDhvbAnPDNC1jiT7X3ut7Kn0ww7zVNh79vKnNBthpx5Ftv7gbSnzwwn/htPiP9AJXjw4MGDBw8ePHjw4MGDBw8ePHjw4MGDBw8ePHjw4MGDBw8ePHjw4MGDBw8ePHjw4MGDBw8ePHjw4MGDBw8ePHjw4MGDBw8ePHjw4MGDBw8ePHjw4MGDBw8ePHjw4MGDBw8ePHjw4MGDBw8ePHjw4MGDBw8ePHjw4MGDBw8ePHjw4MGDBw8ePHjw4MGDBw8ePHjw4MGDBw8ePHhiv8zQ/Jfjyux9S9rzxQyHzTPR3md7lT0dZthmHrfHhg5lzxMjrIqeOhvuCXN6zhihInoq48fhja7nsQFyLmm/jW2fVTkv4w+ysd+zLM6XP2lyXhfi/eX9HrcvLlrbf+ppvsZvgfdrUo6bk6z81RddUqTut09bk9MbXVEr/UDnL8p0euDqfKbY41Z77fI1bnDLm5U5OzJuaDMbdDlZN1xVWyUxR+rL3AhNW1K397iSJbe9dm6JG70pU2Ua50irPxNeXjgQWkyiAAAAAElFTkSuQmCC"},"1c74":function(e,t,n){e.exports=n.p+"img/cb_advice.929165e9.png"},"2b18":function(e,t,n){e.exports=n.p+"img/club_icontype1.58348eb3.png"},"31f7":function(e,t,n){var a={"./banner_home.png":"4906","./banner_unopened.png":"a67a","./cb_advice.png":"1c74","./cb_clear.png":"c423","./cb_grid.png":"f7f3","./cb_intro.png":"150d","./cb_note.png":"3727","./cb_out.png":"8545","./cb_pool.png":"89bc","./cb_profit.png":"d80a","./cb_sd_pool.png":"4dd3","./cb_sd_profit.png":"be6b","./club_icontype1.png":"2b18","./club_icontype2.png":"6afc","./club_icontype3.png":"7f6b0","./frame_avatar.png":"1907","./icon_etf_cy.png":"a924","./pic_club.png":"78fb","./pic_contact.png":"95bc"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="31f7"},3727:function(e,t,n){e.exports=n.p+"img/cb_note.d61252df.png"},4906:function(e,t,n){e.exports=n.p+"img/banner_home.f19582b0.png"},"4a80":function(e,t,n){"use strict";n("0545")},"4dd3":function(e,t,n){e.exports=n.p+"img/cb_sd_pool.8a367e2c.png"},"6afc":function(e,t,n){e.exports=n.p+"img/club_icontype2.ed516b2e.png"},"78fb":function(e,t,n){e.exports=n.p+"img/pic_club.e98c0ffc.png"},"7f6b0":function(e,t,n){e.exports=n.p+"img/club_icontype3.3d018e94.png"},8545:function(e,t,n){e.exports=n.p+"img/cb_out.fba695bd.png"},"89bc":function(e,t,n){e.exports=n.p+"img/cb_pool.02fa8374.png"},"95bc":function(e,t,n){e.exports=n.p+"img/pic_contact.f76e380f.png"},"9f3d":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("page-header-wrapper",{attrs:{title:!1}},[n("a-spin",{attrs:{spinning:e.spinning}},[n("a-card",{attrs:{bordered:!0}},[n("s-table",{ref:"table",attrs:{size:"default",rowKey:"strategyId",columns:e.columns,data:e.loadData,alert:!1,rowSelection:null,scroll:{x:e.tableX},showPagination:!1},scopedSlots:e._u([{key:"action",fn:function(t,a){return n("span",{},[[n("a",{staticStyle:{color:"#1890ff"},on:{click:function(t){return e.handleUpdate(a)}}},[e._v("编辑")])]],2)}}])})],1),n("bond-edit",{ref:"createModal",attrs:{visible:e.modalVisible,loading:e.confirmLoading,model:e.modalData},on:{cancel:e.onUpdateCancel,ok:e.onUpdateDone}})],1)],1)},r=[],i=n("ade3"),o=n("5530"),c=(n("159b"),n("d3b7"),n("7db0"),n("caad"),n("2532"),n("2af9")),l=n("4282"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,width:740,maskClosable:!1,visible:e.visible,confirmLoading:e.spinning,centered:!0,bodyStyle:{maxHeight:"80vh",overflowY:"auto"}},on:{ok:function(t){e.handleSubmit(t)},cancel:function(){e.$emit("cancel")}}},[a("a-spin",{attrs:{spinning:e.spinning}},[a("a-form",e._b({attrs:{form:e.form},on:{submit:e.handleSubmit}},"a-form",e.formLayout,!1),[a("a-form-item",{attrs:{label:"策略名称"}},[e._v(e._s(e.formData.strategyName))]),e._l(e.formCfg,(function(t){return a("a-form-item",{key:t.id,attrs:{colon:!1,required:t.require}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("span",[e._v(e._s(t.name))]),a("a-popover",{scopedSlots:e._u([{key:"content",fn:function(){return[a("img",{staticClass:"helpImg",attrs:{src:n("31f7")("./"+t.helpImg),alt:""}})]},proxy:!0}],null,!0)},[t.help?a("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"question-circle"}}):e._e()],1)],1),"area"===t.type?a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.value,{initialValue:e.formData[t.value],rules:[{required:t.require,whitespace:!0,message:t.ph},{validator:e.checkEmoji}]}],expression:"[item.value, { initialValue: formData[item.value], rules: [{ required: item.require, whitespace: true, message: item.ph }, { validator: checkEmoji }] }]"}],attrs:{"max-length":t.maxLen,placeholder:t.ph,autoSize:"","allow-clear":""}}):"rich"===t.type?a("rich-editor",{ref:t.id,refInFor:!0,attrs:{visible:e.visible,form:e.form,exId:t.value,required:t.require,options:{height:100,showFullScreen:!1,excludeMenus:["image","emoticon"]},contents:e.formData[t.value]}}):e._e()],1)}))],2)],1)],1)},u=[],p=(n("d81d"),n("4de4"),n("b0c0"),[{title:"策略名称",dataIndex:"strategyName",customRender:function(e){return e||"-"}},{title:"策略说明",dataIndex:"_intro",customRender:function(e){return e||"-"}},{title:"操作",width:90,scopedSlots:{customRender:"action"}}]),f=[{id:"intro",name:"策略说明",type:"area",require:!0,value:"",ph:"",help:!0,helpImg:"intro"},{id:"profitParams",name:"止盈条件单参数",type:"area",require:!0,value:"",ph:"",help:!0,helpImg:"profit"},{id:"gridParams",name:"网格条件单参数",type:"area",require:!1,value:"",ph:"不填写时小程序中将不会显示该模块",help:!0,helpImg:"grid"},{id:"poolIntro",name:"债池说明",type:"area",require:!0,value:"",ph:"",help:!0,helpImg:"pool"},{id:"outIntro",name:"轮出说明",type:"area",require:!0,value:"",ph:"",help:!0,helpImg:"out"},{id:"clearIntro",name:"清仓说明",type:"area",require:!0,value:"",ph:"",help:!0,helpImg:"clear"},{id:"note",name:"公告说明",type:"area",require:!0,value:"",ph:"",help:!0,helpImg:"note"}];function d(e){var t=e.map((function(e){var t,n,a=f.find((function(t){return t.id===e.id}));return a=Object.assign(Object(o["a"])({},a),e),(t=a).maxLen||(t.maxLen=500),(n=a).ph||(n.ph="请输入".concat(a.name)),a.helpImg="cb_".concat(a.helpImg,".png"),a}));return t}var m={10:d([{id:"intro",value:"210"},{id:"poolIntro",value:"220",helpImg:"sd_pool"},{id:"outIntro",value:"230",name:"止盈策略",helpImg:"sd_profit"},{id:"profitParams",value:"240"},{id:"gridParams",value:"241"}]),20:d([{id:"intro",value:"310"},{id:"poolIntro",value:"320"},{id:"outIntro",value:"330",name:"指导建议",require:!1,helpImg:"advice"}]),30:d([{id:"intro",value:"10"},{id:"profitParams",value:"30"},{id:"gridParams",value:"31"},{id:"poolIntro",value:"20"},{id:"outIntro",value:"21"},{id:"clearIntro",value:"22"}]),40:d([{id:"intro",value:"110"},{id:"profitParams",value:"130"},{id:"gridParams",value:"131"},{id:"poolIntro",value:"120"},{id:"note",value:"121"}])},g=[10,110,210,310],h=n("484f"),b={name:"StrategyEdit",components:{RichEditor:c["b"]},props:{visible:{type:Boolean,required:!0},loading:{type:Boolean,default:function(){return!1}},model:{type:Object,default:function(){}}},data:function(){return this.formLayout={labelCol:{span:5},wrapperCol:{span:19}},{form:this.$form.createForm(this),spinning:!1,editType:0,title:"策略设置",submitMethod:"",formCfg:[],formData:{}}},created:function(){var e=this;this.$watch("visible",(function(t,n){t&&(e.form.resetFields(),e.handleSvrData(),e.model.mainStrategyType?(e.editType=1,e.title="编辑策略",e.submitMethod="updateCbStrategy"):(e.editType=0,e.title="添加策略",e.submitMethod=""))}))},mounted:function(){},beforeDestroy:function(){},methods:{handleSvrData:function(){var e=this.model,t=e.mainStrategyType,n=e.strategyId,a=e.strategyName,r=e.strategies;this.formCfg=[];var i=r.map((function(e){return e.strategyType})),o=m[t];o=o.filter((function(e){return i.includes(e.value)})),this.formCfg=i.map((function(e){return o.find((function(t){return t.value===e}))}));var c={strategyId:n,strategyName:a};r.forEach((function(e){c[e.strategyType]=e.strategyDesc})),this.formData=c},handleFormData:function(e){try{var t=this.model,n=t.mainStrategyType,a=t.strategyId,r=t.strategyName,i=(t.strategies,{mainStrategyType:n,strategyId:a,strategyName:r,strategies:[]});for(var o in e)i.strategies.push({strategyType:+o,strategyDesc:e[o]});return i}catch(c){}},checkEmoji:function(e,t,n){t&&h["a"].emoji.test(t)?n(new Error("请勿使用表情符号")):n()},handleSubmit:function(e){var t=this;this.form.validateFieldsAndScroll((function(e,n){if(!e){var a=Object.assign({},n),r=!1;for(var i in a)if(a[i]+""!==t.formData[i]+""){r=!0;break}if(!r)return void t.$emit("cancel");var o=t.submitMethod,c=t.handleFormData(a);t.spinning=!0,l["a"][o](c).then((function(e){t.$message.success("操作成功"),t.$emit("ok")})).catch((function(e){})).finally((function(){t.spinning=!1}))}}))}}},v=b,k=(n("4a80"),n("2877")),y=Object(k["a"])(v,s,u,!1,null,"78cc0548",null),w=y.exports,D={name:"Members",components:{STable:c["c"],BondEdit:w},data:function(){return this.columns=p,{spinning:!1,modalVisible:!1,confirmLoading:!1,modalData:{},queryParam:{},loadData:this.reqListData,switchIndex:""}},filters:{available:function(e){return 1===e}},created:function(){var e=this;this.$root.eventHub.$on("refreshView",(function(){e.$refs.table&&e.$refs.table.refresh()}))},beforeRouteLeave:function(e,t,n){this.$root.eventHub.$off("refreshView"),n()},computed:{tableX:function(){var e=0;return this.columns.forEach((function(t){e+=t.width||t.minWidth||0})),e}},methods:{reqListData:function(e){var t={};return l["a"].cbStrategyList(t).then((function(t){var n=t.result,a=n.strategyVos;a.forEach((function(e){var t=e.strategies||[],n=t.find((function(e){return g.includes(e.strategyType)}));t.forEach((function(e){e.strategyType+=""})),e._intro=n?n.strategyDesc:""}));var r={totalCount:n.total,pageNo:e.pageNo,data:a};return r})).catch((function(e){})).finally((function(){}))},handleUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.modalVisible=!0,this.modalData=Object(o["a"])({},e)},onUpdateDone:function(e){this.confirmLoading=!0,this.needUpdateGroup=e,this.$refs.table.refresh(),this.onUpdateCancel()},onUpdateCancel:function(){this.modalVisible=!1,this.confirmLoading=!1},onStatusChange:function(e,t,n,a,r){var o=this;this.switchIndex=a;var c=1===t?0:1,s=Object(i["a"])({id:n.id},r,c);l["a"].updateTeamInfo(s).then((function(e){n[r]=c})).catch((function(e){})).finally((function(){o.switchIndex=""}))}}},_=D,V=Object(k["a"])(_,a,r,!1,null,null,null);t["default"]=V.exports},a67a:function(e,t,n){e.exports=n.p+"img/banner_unopened.2945caa4.png"},a924:function(e,t,n){e.exports=n.p+"img/icon_etf_cy.933b8bd1.png"},be6b:function(e,t,n){e.exports=n.p+"img/cb_sd_profit.87358a5f.png"},c423:function(e,t,n){e.exports=n.p+"img/cb_clear.f8446ad7.png"},d80a:function(e,t,n){e.exports=n.p+"img/cb_profit.220848f0.png"},f7f3:function(e,t,n){e.exports=n.p+"img/cb_grid.dfbabe17.png"}}]);