(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77bf3384"],{"2e64":function(e,a,t){"use strict";t("cd22")},"62fe":function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"account-settings-info-view"},[t("a-spin",{attrs:{spinning:e.loading}},[t("a-row",{attrs:{gutter:16}},[t("a-col",{attrs:{md:24,lg:12}},[t("a-form",{attrs:{layout:"vertical",form:e.form},on:{submit:e.handleSubmit}},[t("a-form-item",{attrs:{label:"新账号（手机号）"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["newPhone",{initialValue:"",rules:[{required:!0,message:"必填"}]}],expression:"['newPhone', { initialValue: '', rules: [{ required: true, message: '必填' }] }]"}],attrs:{placeholder:"请输入要移交的手机号","allow-clear":""}})],1),t("a-form-item",{attrs:{label:"旧账号（手机号）"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["oldPhone",{initialValue:e.$store.state.user.userPhone,rules:[{required:!0,message:"必填"}]}],expression:"['oldPhone', { initialValue: $store.state.user.userPhone, rules: [{ required: true, message: '必填' }] }]"}],attrs:{placeholder:"","allow-clear":"",disabled:""}})],1),t("a-form-item",{attrs:{label:"验证码"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["smsCode",{initialValue:"",rules:[{required:!0,message:"必填"}]}],expression:"['smsCode', { initialValue: '', rules: [{ required: true, message: '必填' }] }]"}],attrs:{placeholder:"验证码","allow-clear":""}},[t("a",{staticStyle:{"text-decoration":"none",color:"#F12323"},attrs:{slot:"suffix"},on:{click:e.handleSmsCode},slot:"suffix"},[e._v(e._s(e.cdTimer?e.cdCount+"s":"获取验证码"))])])],1),t("a-form-item",{attrs:{required:!0,label:"",labelCol:{span:0},wrapperCol:{span:24}}},[t("span",[e._v(e._s(e.submited?"申请已提交，工作人员正在审核中，审核结果将会站内消息及短信进行通知；移交账号后密码将恢复成初始密码（123456）":"移交账号，需要进行审核，审核结果将会站内消息进行通知；移交账号后密码将恢复成初始密码（123456）"))])]),t("a-form-item",[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{span:8,offset:8}},[t("a-button",{attrs:{block:!0,htmlType:"submit",type:"primary"}},[e._v("提交")])],1)],1)],1)],1)],1)],1)],1)],1)},r=[],o=t("f306"),i={components:{},data:function(){return{loading:!1,form:this.$form.createForm(this),submited:!1,getCodeTime:"",cdCount:60,cdTimer:null}},created:function(){},beforeDestroy:function(){this.stopCD()},methods:{handleSubmit:function(e){var a=this;e.preventDefault(),this.form.validateFields((function(e,t){if(!e){var s={oldLoginName:t.oldPhone,newLoginName:t.newPhone,smsCode:t.smsCode},r="accountChange";a.loading=!0,o["a"][r](s).then((function(e){a.loading=!1,a.submited=!0,a.$message.success("提交成功")})).catch((function(e){var t;if(a.loading=!1,!e.responseDes){switch(e.responseCode){case"0001":t="验证码错误";break;case"0002":t="旧用户不存在";break;case"0003":t="上次申请还未审核通过";break;case"0004":t="新账号已在平台注册";break;case"8001":t="验证码超时,请重新获取验证码";break;case"8002":t="验证码错误";break}t&&a.$message.error(t)}}))}}))},handleSmsCode:function(){var e=this;this.cdTimer||this.form.validateFields(["oldPhone"],(function(a,t){if(!a){var s={mobile:t.oldPhone},r="smsCode";e.loading=!0,e.startCD(),o["a"][r](s).then((function(a){e.loading=!1,e.$message.success("验证码已发送到您的手机，请注意查收")})).catch((function(a){var t;if(e.loading=!1,e.stopCD(),!a.responseDes){switch(a.responseCode){case"0001":t="60s内不能重复获取";break;case"0002":t="今日获取次数已达上限";break;case"0003":t="签名错误";break;case"0004":t="无效手机号";break;case"0005":t="信息发送失败";break}t&&e.$message.error(t)}}))}}))},startCD:function(){var e=this;this.cdCount--,this.cdTimer=setInterval((function(){e.cdCount--,0===e.cdCount&&e.stopCD()}),1e3)},stopCD:function(){this.cdTimer&&(clearInterval(this.cdTimer),this.cdTimer=null,this.cdCount=60)},checkPwd:function(e,a,t){var s=this.form.getFieldValue("newPwd");""===a?(e.message="请确认新密码",t(new Error("请确认新密码"))):""===s?(e.message="请先输入新密码",t(new Error("请先输入新密码"))):a!==s?(e.message="两次输入密码不一致",t(new Error("两次输入密码不一致!"))):t()}}},n=i,l=(t("2e64"),t("2877")),c=Object(l["a"])(n,s,r,!1,null,"4cf92304",null);a["default"]=c.exports},cd22:function(e,a,t){}}]);