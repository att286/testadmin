(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fc565df0"],{"1b30":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));n("99af");var o=[{title:"顺序编号",dataIndex:"zoneSort"},{title:"专区名称",dataIndex:"brokerName"},{title:"专区简介",dataIndex:"zoneDesc"},{title:"上架状态",dataIndex:"state",scopedSlots:{customRender:"available"}},{title:"操作",width:240,scopedSlots:{customRender:"action"}}],a=[{title:"股票池名称",dataIndex:"poolName"},{title:"标的数量",dataIndex:"stockNum",customRender:function(e){return e||"0"}},{title:"上架状态",dataIndex:"state",scopedSlots:{customRender:"available"}},{title:"操作",width:240,scopedSlots:{customRender:"action"}}],r=[{title:"标的名称",dataIndex:"stockCode",customRender:function(e,t){return"".concat(t.stockName,"(").concat(t.stockCode,".").concat(t.stockMarket,")")}},{title:"券商观点",dataIndex:"brokerOption"},{title:"上架状态",dataIndex:"state",scopedSlots:{customRender:"available"}},{title:"操作",width:240,scopedSlots:{customRender:"action"}}]},5702:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("page-header-wrapper",{attrs:{title:!1}},[n("a-spin",{attrs:{spinning:e.spinning}},[n("a-card",[n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新建券商专区")])],1),n("s-table",{ref:"table",attrs:{size:"default",rowKey:"id",columns:e.columns,data:e.loadData,alert:!1,showPagination:"auto"},scopedSlots:e._u([{key:"available",fn:function(t,o,a){return n("span",{},[n("a-switch",{attrs:{loading:a===e.switchIndex,checked:e._f("available")(o)},on:{change:function(n){return e.onStatusChange(n,t,o,a,"state")}}})],1)}},{key:"action",fn:function(t,o){return n("span",{},[[n("a",{staticStyle:{color:"#1890ff"},on:{click:function(t){return e.handleEdit(o)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{staticStyle:{color:"#1890ff"},on:{click:function(t){return e.handleManage(o)}}},[e._v("金股池管理")])]],2)}}])})],1)],1),n("edit-zone",{ref:"createModal",attrs:{visible:e.visibleEdit,model:e.modelData,brokerList:e.brokerList},on:{ok:e.onEditOk,cancel:e.onEditCancel}})],1)},a=[],r=n("5530"),i=(n("d3b7"),n("d81d"),n("159b"),n("99af"),n("2af9")),l=n("1b30"),c=n("0970"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"编辑专区",width:600,maskClosable:!1,visible:e.visible,confirmLoading:e.loading,centered:!0,bodyStyle:{maxHeight:"80vh",overflowY:"auto"},destroyOnClose:!0},on:{ok:e.onOk,cancel:function(){e.$emit("cancel")}}},[n("a-spin",{attrs:{spinning:e.loading}},[n("a-form",e._b({attrs:{form:e.form}},"a-form",e.formLayout,!1),[n("a-form-item",{attrs:{label:"归属券商"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["brokerId",{initialValue:e.model.brokerId,rules:[{required:!0,message:"必选"}]}],expression:"['brokerId', { initialValue: model.brokerId, rules: [{ required: true, message: '必选' }] }]"}],attrs:{"allow-clear":"",labelInValue:!1,options:e.brokerList,showSearch:"",optionFilterProp:"children",placeholder:"请选择券商"},on:{change:e.changeBroker}})],1),n("a-form-item",{attrs:{label:"专区简介"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["zoneDesc",{initialValue:e.model.zoneDesc,rules:[{required:!1,message:"必填"}]}],expression:"['zoneDesc', { initialValue: model.zoneDesc, rules: [{ required: false, message: '必填' }] }]"}],attrs:{name:"zoneDesc","max-length":500,placeholder:"请输入","allow-clear":""}})],1),n("a-form-item",{attrs:{label:"是否上架"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["state",{initialValue:e.model.state||0,rules:[{required:!0,message:"必选"}]}],expression:"['state', { initialValue: model.state || 0, rules: [{ required: true, message: '必选' }] }]"}]},[n("a-radio",{attrs:{value:0}},[e._v("是")]),n("a-radio",{attrs:{value:1}},[e._v("否")])],1)],1),n("a-form-item",{attrs:{label:"排序编号"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["zoneSort",{initialValue:e.model.zoneSort,rules:[{required:!0,message:"必填"}]}],expression:"['zoneSort', { initialValue: model.zoneSort, rules: [{ required: true, message: '必填' }] }]"}],attrs:{name:"zoneSort","allow-clear":""}})],1)],1)],1)],1)},u=[],d=n("88bc"),f=n.n(d),m=["brokerId","zoneDesc","state","zoneSort"],h={components:{},props:{visible:{type:Boolean,required:!0},model:{type:Object,default:function(){}},brokerList:{type:Array,default:function(){return[]}}},data:function(){return this.formLayout={labelCol:{md:{span:6},xs:{span:24}},wrapperCol:{md:{span:18},xs:{span:24}}},this.formLayout2={labelCol:{md:{span:6},xs:{span:24}},wrapperCol:{md:{span:8},xs:{span:24}}},{loading:!1,form:this.$form.createForm(this),logoLoading:!1,logoUrl:""}},computed:{},created:function(){var e=this;m.forEach((function(t){return e.form.getFieldDecorator(t)})),this.$watch("model",(function(){e.$nextTick((function(){e.model&&e.form.setFieldsValue(f()(e.model,m))}))}))},mounted:function(){},methods:{changeBroker:function(e){},onOk:function(){var e=this,t=this.form;this.loading=!0,t.validateFields((function(t,n){if(t)e.loading=!1;else{var o=e.model.id,a=o?"updateBrokerGoldenStockZone":"createBrokerGoldenStockZone",i=Object(r["a"])({},n);o&&(i.zoneId=o),e.doUpdate(a,i)}}))},doUpdate:function(e,t){var n=this;c["a"][e](t).then((function(e){n.loading=!1,n.$message.info("操作成功"),n.$emit("ok")})).catch((function(e){n.loading=!1,n.$message.error(e.responseMsg)}))}}},p=h,b=(n("f2d8"),n("2877")),v=Object(b["a"])(p,s,u,!1,null,"5e74fa3b",null),g=v.exports,k={components:{STable:i["c"],EditZone:g},filters:{available:function(e){return 0===e.state}},data:function(){return{spinning:!1,columns:l["c"],loadData:this.loadZoneLsit,newSortNum:1,switchIndex:"",visibleEdit:!1,modelData:{},brokerList:[],showMode:"",curZone:null}},methods:{getBrokerList:function(){var e=this;return new Promise((function(t,n){e.brokerList.length?t():c["a"].getBrokerList().then((function(n){e.brokerList=n.brokerList.map((function(e){return{label:e.brokerName,value:e.brokerId}})),t()})).catch((function(e){n(new Error("获取券商列表失败！"))}))}))},loadZoneLsit:function(e){var t=this,n=Object(r["a"])({},e);return n.pageNum=n.pageNo,delete n.pageNo,c["a"].getBrokerGoldenStockZoneList(n).then((function(n){var o={totalCount:n.total,pageNo:e.pageNo,data:n.zoneList},a=1;return n.zoneList.forEach((function(e){e.zoneSort>=a&&(a=e.zoneSort+10)})),t.newSortNum=a,o})).catch((function(){return t.newSortNum=1,{totalCount:0,pageNo:1,data:[]}})).finally((function(){}))},handleAdd:function(){var e=this;this.spinnig=!0,this.getBrokerList().then((function(){e.modelData={zoneSort:e.newSortNum},e.visibleEdit=!0})).catch((function(e){})).finally((function(){e.spinning=!1}))},handleEdit:function(e){var t=this;this.spinnig=!0,this.getBrokerList().then((function(){t.modelData=e,t.visibleEdit=!0})).catch((function(e){})).finally((function(){t.spinning=!1}))},onStatusChange:function(e,t,n,o,a){var r=this;this.switchIndex=o;var i={zoneId:n.id,state:1===n[a]?0:1};c["a"].updateBrokerGoldenStockZone(i).then((function(e){n[a]=1===n[a]?0:1})).catch((function(e){})).finally((function(){r.switchIndex=""}))},onEditOk:function(){this.$refs.table.refresh(!0),this.onEditCancel()},onEditCancel:function(){var e=this.$refs.createModal.form;e.resetFields(),this.visibleEdit=!1},handleManage:function(e){this.$router.push({path:"/stock/stock-pool/".concat(e.brokerName,"/").concat(e.brokerId)})}}},w=k,y=Object(b["a"])(w,o,a,!1,null,null,null);t["default"]=y.exports},"88bc":function(e,t,n){(function(t){var n=1/0,o=9007199254740991,a="[object Arguments]",r="[object Function]",i="[object GeneratorFunction]",l="[object Symbol]",c="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,u=c||s||Function("return this")();function d(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function f(e,t){var n=-1,o=e?e.length:0,a=Array(o);while(++n<o)a[n]=t(e[n],n,e);return a}function m(e,t){var n=-1,o=t.length,a=e.length;while(++n<o)e[a+n]=t[n];return e}var h=Object.prototype,p=h.hasOwnProperty,b=h.toString,v=u.Symbol,g=h.propertyIsEnumerable,k=v?v.isConcatSpreadable:void 0,w=Math.max;function y(e,t,n,o,a){var r=-1,i=e.length;n||(n=z),a||(a=[]);while(++r<i){var l=e[r];t>0&&n(l)?t>1?y(l,t-1,n,o,a):m(a,l):o||(a[a.length]=l)}return a}function S(e,t){return e=Object(e),x(e,t,(function(t,n){return n in e}))}function x(e,t,n){var o=-1,a=t.length,r={};while(++o<a){var i=t[o],l=e[i];n(l,i)&&(r[i]=l)}return r}function I(e,t){return t=w(void 0===t?e.length-1:t,0),function(){var n=arguments,o=-1,a=w(n.length-t,0),r=Array(a);while(++o<a)r[o]=n[t+o];o=-1;var i=Array(t+1);while(++o<t)i[o]=n[o];return i[t]=r,d(e,this,i)}}function z(e){return j(e)||N(e)||!!(k&&e&&e[k])}function L(e){if("string"==typeof e||B(e))return e;var t=e+"";return"0"==t&&1/e==-n?"-0":t}function N(e){return O(e)&&p.call(e,"callee")&&(!g.call(e,"callee")||b.call(e)==a)}var j=Array.isArray;function E(e){return null!=e&&D(e.length)&&!C(e)}function O(e){return _(e)&&E(e)}function C(e){var t=$(e)?b.call(e):"";return t==r||t==i}function D(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function $(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _(e){return!!e&&"object"==typeof e}function B(e){return"symbol"==typeof e||_(e)&&b.call(e)==l}var V=I((function(e,t){return null==e?{}:S(e,f(y(t,1),L))}));e.exports=V}).call(this,n("c8ba"))},cec7:function(e,t,n){},f2d8:function(e,t,n){"use strict";n("cec7")}}]);