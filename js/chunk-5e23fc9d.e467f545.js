(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e23fc9d"],{"079c":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-header-wrapper",{attrs:{title:!1}},[a("a-spin",{attrs:{spinning:t.spinning}},[a("a-card",[a("div",{staticClass:"table-page-search-wrapper"},[a("a-descriptions",[a("a-descriptions-item",{attrs:{label:"关联券商",span:24}},[t._v(t._s(t.brokerName))])],1)],1),a("div",{staticClass:"table-operator"},[a("a-button",{attrs:{type:"primary",icon:"rollback"},on:{click:t.handleBack}},[t._v("返回")]),a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.handleAdd}},[t._v("新建金股池")])],1),a("s-table",{ref:"table",attrs:{size:"default",rowKey:"id",columns:t.columns,data:t.loadData,alert:!1,showPagination:"auto"},scopedSlots:t._u([{key:"available",fn:function(e,o,n){return a("span",{},[a("a-switch",{attrs:{loading:n===t.switchIndex,checked:t._f("available")(o)},on:{change:function(a){return t.onStatusChange(a,e,o,n,"state")}}})],1)}},{key:"action",fn:function(e,o){return a("span",{},[[a("a",{staticStyle:{color:"#1890ff"},on:{click:function(e){return t.handleEdit(o)}}},[t._v("编辑")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{staticStyle:{color:"#1890ff"},on:{click:function(e){return t.handleManage(o)}}},[t._v("标的管理")])]],2)}}])})],1)],1),a("edit-pool",{ref:"createModal",attrs:{visible:t.visibleEdit,model:t.modelData,brokerId:t.brokerId},on:{ok:t.onEditOk,cancel:t.onEditCancel}})],1)},n=[],r=a("5530"),i=(a("d3b7"),a("2af9")),l=a("1b30"),s=a("0970"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:"编辑专区",width:600,maskClosable:!1,visible:t.visible,confirmLoading:t.loading,centered:!0,bodyStyle:{maxHeight:"80vh",overflowY:"auto"},destroyOnClose:!0},on:{ok:t.onOk,cancel:function(){t.$emit("cancel")}}},[a("a-spin",{attrs:{spinning:t.loading}},[a("a-form",t._b({attrs:{form:t.form}},"a-form",t.formLayout,!1),[a("a-form-item",{attrs:{label:"股票池名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["poolName",{initialValue:t.model.poolName,rules:[{required:!0,message:"必填"}]}],expression:"['poolName', { initialValue: model.poolName, rules: [{ required: true, message: '必填' }] }]"}],attrs:{name:"poolName",placeholder:"建议输入月份，如：2022年05月","max-length":15,"allow-clear":""}})],1),a("a-form-item",{attrs:{label:"上架时间"}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataTime",{initialValue:t.model.dataTime,rules:[{required:!0,message:"必填"}]}],expression:"['dataTime', { initialValue: model.dataTime, rules: [{ required: true, message: '必填' }] }]"}],attrs:{name:"dataTime",format:"yyyy年MM月DD日",valueFormat:"yyyy-MM-DD 00:00:00",disabledDate:t.disabledDate}})],1),a("a-form-item",{attrs:{label:"是否上架"}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["state",{initialValue:t.model.state||0,rules:[{required:!0,message:"必选"}]}],expression:"['state', { initialValue: model.state || 0, rules: [{ required: true, message: '必选' }] }]"}]},[a("a-radio",{attrs:{value:0}},[t._v("是")]),a("a-radio",{attrs:{value:1}},[t._v("否")])],1)],1)],1)],1)],1)},d=[],u=a("c1df"),f=a.n(u),m=a("88bc"),p=a.n(m),h=["poolName","dataTime","state"],b={components:{},props:{visible:{type:Boolean,required:!0},model:{type:Object,default:function(){}},brokerId:{type:String,default:""}},data:function(){return this.formLayout={labelCol:{md:{span:6},xs:{span:24}},wrapperCol:{md:{span:18},xs:{span:24}}},this.formLayout2={labelCol:{md:{span:6},xs:{span:24}},wrapperCol:{md:{span:8},xs:{span:24}}},{loading:!1,form:this.$form.createForm(this),logoLoading:!1,logoUrl:""}},computed:{},created:function(){var t=this;h.forEach((function(e){return t.form.getFieldDecorator(e)})),this.$watch("model",(function(){t.$nextTick((function(){t.model&&t.form.setFieldsValue(p()(t.model,h))}))}))},mounted:function(){},methods:{disabledDate:function(t){var e=f()();return t.isBefore(e,"day")},onOk:function(){var t=this,e=this.form;this.loading=!0,e.validateFields((function(e,a){if(e)t.loading=!1;else{var o=t.model.id,n=o?"updateBrokerGoldenStockPool":"createBrokerGoldenStockPool",i=Object(r["a"])(Object(r["a"])({},a),{},{brokerId:t.brokerId});o&&(i.poolId=o),t.doUpdate(n,i)}}))},doUpdate:function(t,e){var a=this;s["a"][t](e).then((function(t){a.loading=!1,a.$message.info("操作成功"),a.$emit("ok")})).catch((function(t){a.loading=!1,a.$message.error(t.responseMsg)}))}}},v=b,k=(a("52d6"),a("2877")),g=Object(k["a"])(v,c,d,!1,null,"52d30f9e",null),y=g.exports,w={components:{STable:i["c"],EditPool:y},filters:{available:function(t){return 0===t.state}},data:function(){return{spinning:!1,columns:l["a"],loadData:this.loadPoolLsit,switchIndex:"",visibleEdit:!1,modelData:{},brokerId:"",brokerName:""}},created:function(){this.brokerId=this.$route.params.brokerId,this.brokerName=this.$route.params.brokerName},methods:{loadPoolLsit:function(t){var e=Object(r["a"])(Object(r["a"])({},t),{},{brokerId:this.brokerId});return e.pageNum=e.pageNo,delete e.pageNo,s["a"].getBrokerGoldenStockPoolList(e).then((function(e){var a={totalCount:e.total,pageNo:t.pageNo,data:e.poolList};return a})).catch((function(){return{totalCount:0,pageNo:1,data:[]}})).finally((function(){}))},handleBack:function(){this.$router.back()},handleAdd:function(){this.modelData={},this.visibleEdit=!0},handleEdit:function(t){this.modelData=t,this.visibleEdit=!0},onStatusChange:function(t,e,a,o,n){var r=this;this.switchIndex=o;var i={poolId:a.id,brokerId:this.brokerId,state:1===a[n]?0:1};s["a"].updateBrokerGoldenStockPool(i).then((function(t){a[n]=1===a[n]?0:1})).catch((function(t){})).finally((function(){r.switchIndex=""}))},onEditOk:function(){this.$refs.table.refresh(!0),this.onEditCancel()},onEditCancel:function(){var t=this.$refs.createModal.form;t.resetFields(),this.visibleEdit=!1},handleManage:function(t){var e=this.brokerName;this.$router.push({path:"/stock/stocks",query:{brokerName:e,poolId:t.id,poolName:t.poolName}})}}},I=w,x=Object(k["a"])(I,o,n,!1,null,null,null);e["default"]=x.exports},"1b30":function(t,e,a){"use strict";a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return r}));a("99af");var o=[{title:"顺序编号",dataIndex:"zoneSort"},{title:"专区名称",dataIndex:"brokerName"},{title:"专区简介",dataIndex:"zoneDesc"},{title:"上架状态",dataIndex:"state",scopedSlots:{customRender:"available"}},{title:"操作",width:240,scopedSlots:{customRender:"action"}}],n=[{title:"股票池名称",dataIndex:"poolName"},{title:"标的数量",dataIndex:"stockNum",customRender:function(t){return t||"0"}},{title:"上架状态",dataIndex:"state",scopedSlots:{customRender:"available"}},{title:"操作",width:240,scopedSlots:{customRender:"action"}}],r=[{title:"标的名称",dataIndex:"stockCode",customRender:function(t,e){return"".concat(e.stockName,"(").concat(e.stockCode,".").concat(e.stockMarket,")")}},{title:"券商观点",dataIndex:"brokerOption"},{title:"上架状态",dataIndex:"state",scopedSlots:{customRender:"available"}},{title:"操作",width:240,scopedSlots:{customRender:"action"}}]},"1db6":function(t,e,a){},"52d6":function(t,e,a){"use strict";a("1db6")},"88bc":function(t,e,a){(function(e){var a=1/0,o=9007199254740991,n="[object Arguments]",r="[object Function]",i="[object GeneratorFunction]",l="[object Symbol]",s="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,d=s||c||Function("return this")();function u(t,e,a){switch(a.length){case 0:return t.call(e);case 1:return t.call(e,a[0]);case 2:return t.call(e,a[0],a[1]);case 3:return t.call(e,a[0],a[1],a[2])}return t.apply(e,a)}function f(t,e){var a=-1,o=t?t.length:0,n=Array(o);while(++a<o)n[a]=e(t[a],a,t);return n}function m(t,e){var a=-1,o=e.length,n=t.length;while(++a<o)t[n+a]=e[a];return t}var p=Object.prototype,h=p.hasOwnProperty,b=p.toString,v=d.Symbol,k=p.propertyIsEnumerable,g=v?v.isConcatSpreadable:void 0,y=Math.max;function w(t,e,a,o,n){var r=-1,i=t.length;a||(a=S),n||(n=[]);while(++r<i){var l=t[r];e>0&&a(l)?e>1?w(l,e-1,a,o,n):m(n,l):o||(n[n.length]=l)}return n}function I(t,e){return t=Object(t),x(t,e,(function(e,a){return a in t}))}function x(t,e,a){var o=-1,n=e.length,r={};while(++o<n){var i=e[o],l=t[i];a(l,i)&&(r[i]=l)}return r}function N(t,e){return e=y(void 0===e?t.length-1:e,0),function(){var a=arguments,o=-1,n=y(a.length-e,0),r=Array(n);while(++o<n)r[o]=a[e+o];o=-1;var i=Array(e+1);while(++o<e)i[o]=a[o];return i[e]=r,u(t,this,i)}}function S(t){return C(t)||O(t)||!!(g&&t&&t[g])}function j(t){if("string"==typeof t||L(t))return t;var e=t+"";return"0"==e&&1/t==-a?"-0":e}function O(t){return D(t)&&h.call(t,"callee")&&(!k.call(t,"callee")||b.call(t)==n)}var C=Array.isArray;function E(t){return null!=t&&_(t.length)&&!$(t)}function D(t){return F(t)&&E(t)}function $(t){var e=M(t)?b.call(t):"";return e==r||e==i}function _(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function M(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function F(t){return!!t&&"object"==typeof t}function L(t){return"symbol"==typeof t||F(t)&&b.call(t)==l}var P=N((function(t,e){return null==t?{}:I(t,f(w(e,1),j))}));t.exports=P}).call(this,a("c8ba"))}}]);