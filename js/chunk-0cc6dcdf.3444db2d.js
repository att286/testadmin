(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0cc6dcdf"],{13682:function(t,a,e){"use strict";e("dd6d")},dd6d:function(t,a,e){},e9e7:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("page-header-wrapper",{attrs:{title:!1}},[e("channel-selector",{ref:"channelSelector",on:{change:t.onChannelChange},model:{value:t.curChannelId,callback:function(a){t.curChannelId=a},expression:"curChannelId"}}),e("div",{},[e("a-tabs",{on:{change:t.onTabChange},model:{value:t.insType,callback:function(a){t.insType=a},expression:"insType"}},t._l(t.insTypes,(function(t){return e("a-tab-pane",{key:t.insType,attrs:{tab:t.insTypeName}})})),1),e("a-card",[e("h3",[t._v("机构数据")]),e("a-spin",{attrs:{spinning:t.spinning}},[e("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[t._l(t.totalDatas,(function(a,n){return[e("a-col",{key:n,attrs:{span:4}},[e("div",{staticClass:"totalDataItem column-start-center"},[e("a-tooltip",{attrs:{title:a.tip}},[e("div",{staticClass:"title row-center-center"},[t._v(t._s(a.title)),e("a-icon",{staticStyle:{"margin-left":"10px"},attrs:{type:"info-circle"}})],1),e("a-statistic",{attrs:{value:a.value,precision:0,suffix:"",valueStyle:"text-align:center;"}})],1)],1)]),n!=t.totalDatas.length-1?e("a-col",{key:"line"+n,staticClass:"row-center-center",attrs:{span:1}},[e("a-divider",{staticStyle:{height:"40px"},attrs:{type:"vertical"}})],1):t._e()]}))],2)],1)],1),e("div",[e("br")]),e("a-collapse",{staticStyle:{"margin-top":"0px"},model:{value:t.activeKey,callback:function(a){t.activeKey=a},expression:"activeKey"}},[e("a-collapse-panel",{key:"1",attrs:{header:"机构日数据"}},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:10,sm:24}},[e("a-form-item",{attrs:{label:"日期范围"}},[e("a-range-picker",{attrs:{value:t.dates,placeholder:["开始时间","结束时间"],format:"YYYY-MM-DD",ranges:t.dateRanges},on:{panelChange:t.handlePanelChange,change:t.handleChange}})],1)],1)],1)],1)],1),e("s-table",{ref:"table",attrs:{size:"middle",rowKey:"brokerName",columns:t.organDataCols,data:t.loadData,alert:!1,scroll:{x:t.tableX},showPagination:"auto",pageSize:6,pageSizeOptions:["6","21","51","101"],rowClassName:t.rowClass},scopedSlots:t._u([{key:"desc",fn:function(a){return e("span",{},[[e("span",{staticStyle:{"white-space":"pre-wrap"}},[t._v(t._s(a))])]],2)}},{key:"validNum",fn:function(a){return e("span",{},[[a>=0?e("span",[t._v(t._s(a))]):e("a-tooltip",{attrs:{title:"由于用户出金等行为导致不再符合有效户标准，有效户数减少。所选时间段内，有效户数减少大于新增，因此为负数。"}},[e("span",{staticStyle:{color:"#F12323"}},[t._v(t._s(a))])])]],2)}}])},[e("span",{attrs:{slot:"customHead_dataEndDate"},slot:"customHead_dataEndDate"},[[e("a-tooltip",{attrs:{title:"不同券商的数据更新周期不同，此列显示筛选日期范围内的最新一次数据更新日期。"}},[e("span",[t._v("数据更新日期")]),e("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"question-circle"}})],1)]],2),e("span",{attrs:{slot:"customHead_openInversionRate"},slot:"customHead_openInversionRate"},[[e("a-tooltip",{attrs:{title:"开户转化率=开户人数/注册人数*100%",overlayStyle:{whiteSpace:"nowrap"}}},[e("span",[t._v("开户转换率")]),e("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"question-circle"}})],1)]],2),e("span",{attrs:{slot:"customHead_creditInversionRate"},slot:"customHead_creditInversionRate"},[[e("a-tooltip",{attrs:{title:"入金转化率=入金人数/开户人数*100%",overlayStyle:{whiteSpace:"nowrap"}}},[e("span",[t._v("入金转化率")]),e("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"question-circle"}})],1)]],2)])],1)],1)],1)],1)},s=[],i=e("2909"),r=(e("d3b7"),e("159b"),e("d81d"),e("99af"),e("ac8a")),o=e("2af9"),l=e("0970"),c=e("4ae6"),p=e("c1df"),u=e.n(p),d={components:{ChannelSelector:r["a"],STable:o["c"]},data:function(){var t=this;return{spinning:!1,organDataCols:c["q"],curChannelId:"",totalDatas:[],insType:"",insTypes:[],dates:[],dateRanges:{},activeKey:["1"],loadData:function(a){var e=t.curChannelId,n=t.insType,s=t.dates,i=Object.assign({channelId:"0"===e?"":e,insType:n},a);return i.pageNum=i.pageNo,i.pageSize=i.pageSize-1,delete i.pageNo,s[0]&&s[1]&&(i.startDate=s[0].format("YYYYMMDD"),i.endDate=s[1].format("YYYYMMDD")),l["a"].DataCenter_institutionalData(i).then((function(e){var n=t.proxyData(e),s={totalCount:e.total+Math.ceil(e.total/i.pageSize),pageNo:a.pageNo,data:n};return s})).catch((function(a){t.proxyData({})})).finally((function(){}))},organSettlementStateCols:c["r"],organSettlementStates:c["s"],settlementState:void 0,loadSettlementData:function(a){var e=t.settlementState,n=t.insType,s=t.curChannelId,i=Object.assign({channelId:"0"===s?"":s,insType:n},a);return e&&(i.settlementState=e),i.pageNum=i.pageNo,delete i.pageNo,l["a"].DataCenter_brokerSettlementCycle(i).then((function(t){t.dataList.forEach((function(t){t.settlementStateLabel=Object(c["f"])(t.settlementState)}));var e={totalCount:t.total,pageNo:a.pageNo,data:t.dataList};return e})).catch((function(t){var e={total:0,dataList:[]},n={totalCount:e.total,pageNo:a.pageNo,data:e.dataList};return n})).finally((function(){}))}}},computed:{tableX:function(){var t=0;return this.organDataCols.forEach((function(a){t+=a.width})),t}},created:function(){var t=this;this.$root.eventHub.$on("refreshView",(function(){t.refreshData()})),this.initDateRange()},beforeRouteLeave:function(t,a,e){this.$root.eventHub.$off("refreshView"),e()},methods:{initDateRange:function(){var t=u()().subtract(1,"days");this.dateRanges={"昨日":[t,t],"本周":[u()().startOf("week"),u()()],"本月":[u()().startOf("month"),u()()],"本年":[u()().startOf("year"),u()()]}},onChannelChange:function(){this.refreshData()},handleChange:function(t){this.dates=t,this.refreshData(1)},handlePanelChange:function(t,a){this.dates=t,this.refreshData(1)},refreshData:function(t){this.$refs.table&&this.$refs.table.refresh(!0),!t&&this.$refs.table2&&this.$refs.table2.refresh(!0)},proxyData:function(t){var a=this.insTypes;return this.insType=t.insType||"",a.length||(this.insTypes=t.insTypes||[]),this.totalDatas=c["t"].map((function(a){var e;return{title:a.title,tip:a.tip,dataType:a.dataType,value:t.insData&&null!==(e=t.insData[a.key])&&void 0!==e?e:""}})),t.summaryData?[Object.assign({brokerName:"汇总",isTotal:!0},t.summaryData)].concat(Object(i["a"])(t.insList)):t.insList},onTabChange:function(t){this.insType=t,this.dates=[],this.refreshData()},showTip:function(t){this.$info({title:t.title,content:t.tip})},rowClass:function(t){return t.isTotal?"totalRow":""},changeSettlementState:function(){var t=this.$refs.table2;t&&t.refresh(!0)}}},h=d,f=(e("13682"),e("2877")),y=Object(f["a"])(h,n,s,!1,null,null,null);a["default"]=y.exports}}]);